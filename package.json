{
  "name": "lj-s-tutoring",
  "private": true,
  "type": "commonjs",
  "engines": {
    "node": "20.x"
  },
  "dependencies": {
    "@fastify/cookie": "^11.0.2",
    "argon2": "^0.44.0",
    "fastify": "^5.7.2",
    "http-server": "^14.1.1",
    "nodemailer": "^8.0.0",
    "pdfkit": "^0.17.2"
  },
  "devDependencies": {
    "@playwright/test": "^1.49.1",
    "@tailwindcss/typography": "^0.5.16",
    "@types/nodemailer": "^7.0.9",
    "@types/pdfkit": "^0.17.4",
    "cpy-cli": "^5.0.0",
    "dotenv": "^16.4.5",
    "eslint": "^8.57.0",
    "html-validate": "^9.5.3",
    "jsdom": "^24.0.0",
    "husky": "^9.0.11",
    "linkinator": "^6.1.2",
    "mkdirp": "^3.0.1",
    "npm-run-all": "^4.1.5",
    "pa11y-ci": "^4.0.1",
    "rimraf": "^5.0.5",
    "tailwindcss": "^3.4.17",
    "vitest": "^2.1.8",
    "wait-on": "^7.2.0"
  },
  "scripts": {
    "clean": "rimraf dist",
    "prebuild": "npm run clean && mkdirp dist/assets dist/assets/admin dist/assets/arcade dist/assets/games dist/assets/lib dist/assets/data dist/assets/tutor dist/guides dist/images dist/arcade dist/admin dist/tutor && npm run fetch:words",
    "build:css": "tailwindcss -c tailwind.config.js -i ./assets/tailwind-input.css -o ./dist/assets/tailwind-input.css --minify",
    "build:html": "cpy \"*.html\" dist --flat",
    "build:static": "cpy \"favicon.svg\" \"robots.txt\" \"sitemap.xml\" dist --flat",
    "build:guides": "cpy \"guides/*.html\" dist/guides",
    "build:images": "cpy \"images/*\" dist/images",
    "build:arcade": "cpy \"arcade/**/*\" dist/arcade",
    "build:assets": "cpy \"assets/*.js\" \"assets/*.css\" dist/assets --flat",
    "build:admin": "cpy \"admin/*.html\" dist/admin",
    "build:admin-assets": "cpy \"assets/admin/*.js\" dist/assets/admin",
    "build:arcade-modules": "cpy \"assets/arcade/**/*.js\" \"assets/arcade/**/*.css\" \"assets/arcade/**/*.svg\" \"assets/arcade/**/*.png\" dist/assets/arcade",
    "build:games": "cpy \"assets/games/*.js\" dist/assets/games",
    "build:lib": "cpy \"assets/lib/*.js\" dist/assets/lib",
    "build:data": "cpy \"assets/data/*.json\" dist/assets/data",
    "build:sw": "cpy \"sw.js\" dist --flat",
    "build:tutor": "cpy \"tutor/*.html\" dist/tutor",
    "build:tutor-assets": "cpy \"assets/tutor/*.js\" dist/assets/tutor",
    "inject:config": "node scripts/inject-config.js",
    "check:build-js": "node scripts/check-built-js.js",
    "build": "npm-run-all --parallel build:css build:html build:static build:guides build:images build:arcade build:assets build:admin build:admin-assets build:tutor build:tutor-assets build:arcade-modules build:games build:lib build:data build:sw && npm run inject:config && npm run check:build-js",
    "serve": "http-server dist -p 8080 -c-1",
    "start": "http-server dist -a 0.0.0.0 -p ${PORT:-8080} -c-1",
    "dev:css": "tailwindcss -c tailwind.config.js -i ./assets/tailwind-input.css -o ./dist/assets/tailwind-input.css --watch",
    "dev:full": "npm-run-all prebuild build:html build:static build:guides build:images build:arcade build:assets build:admin build:admin-assets build:tutor build:tutor-assets build:arcade-modules build:games build:lib build:data build:sw inject:config",
    "dev:static": "npm-run-all --parallel dev:css serve",
    "dev:api": "npm run dev --prefix lms-api",
    "dev": "npm-run-all --parallel dev:static dev:api",
    "migrate": "npm run migrate --prefix lms-api",
    "test": "npm run test --prefix lms-api",
    "test:e2e:api": "npm run test:e2e --prefix lms-api",
    "db:migrate:test": "npm run db:migrate:test --prefix lms-api",
    "db:reset:test": "npm run db:reset:test --prefix lms-api",
    "seed:test": "npm run seed:test --prefix lms-api",
    "retention:cleanup": "npm run retention:cleanup --prefix lms-api",
    "start:api:test": "NODE_ENV=test DATABASE_URL=$DATABASE_URL_TEST PORT=3001 npm run start:test --prefix lms-api",
    "start:static:test": "http-server dist -p 8080 -c-1 --silent",
    "test:unit": "vitest run",
    "test:api": "npm run test --prefix lms-api",
    "test:e2e": "mkdir -p test-results lms-api/test-results && npm run build && npm run db:reset:test && npm run seed:test && playwright test",
    "test:all": "npm-run-all lint test:unit test:api test:e2e build",
    "lint:js": "eslint \"assets/**/*.js\" \"scripts/**/*.js\"",
    "lint:html": "html-validate \"*.html\" \"guides/*.html\" \"arcade/**/*.html\"",
    "lint": "npm-run-all --parallel lint:js lint:html",
    "check:arcade-best-today": "node scripts/check-arcade-best-today.mjs",
    "check:quickmath-export": "node scripts/check-quickmath-export.mjs",
    "qa:html": "html-validate \"dist/*.html\" \"dist/guides/*.html\" \"dist/arcade/**/*.html\"",
    "qa:links": "linkinator http://localhost:8080 --recurse --timeout 10000 --concurrency 4 --skip \"^mailto:|^tel:|^https?:\\/\\/(?!localhost:8080)\"",
    "qa:a11y": "pa11y-ci",
    "qa:quick": "npm-run-all build && (npm run serve --silent & wait-on http://localhost:8080) && npm-run-all --parallel qa:html qa:links",
    "qa": "npm-run-all build && (npm run serve --silent & wait-on http://localhost:8080) && npm-run-all --parallel qa:html qa:links qa:a11y",
    "fetch:words": "node scripts/fetch-words.js",
    "prepare": "husky || true"
  }
}
