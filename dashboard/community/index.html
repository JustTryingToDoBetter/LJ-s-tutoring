<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Community | Project Odysseus</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="/assets/portal.css">
</head>
<body data-page="community">
  <div class="portal-shell">
    <nav class="portal-nav">
      <div class="portal-nav-inner">
        <div class="brand"><span class="brand-badge">PO</span>Academic OS</div>
        <div class="nav-links">
          <a class="nav-link" data-nav="dashboard" href="/dashboard/">Dashboard</a>
          <a class="nav-link" data-nav="reports" href="/reports/">Reports</a>
          <a class="nav-link" data-nav="community" href="/dashboard/community/">Community</a>
          <a class="nav-link" data-nav="career" href="/dashboard/career/">Career</a>
        </div>
      </div>
    </nav>

    <main class="portal-main">
      <section class="page-header">
        <h1 class="page-title">Community Hub</h1>
        <p class="page-subtitle">Study rooms, weekly challenges, and moderated peer Q&A.</p>
      </section>

      <section class="grid two">
        <article class="panel dashboard-card">
          <div class="row-head">
            <h2 class="panel-title">Study Rooms</h2>
            <button id="createRoomBtn" class="button" type="button">Create room</button>
          </div>
          <div id="communityRoomsList" class="list-compact"></div>
        </article>

        <article class="panel dashboard-card">
          <h2 class="panel-title">Room Chat</h2>
          <p id="selectedRoomLabel" class="note">Join a room to view or post messages.</p>
          <div id="roomMessagesList" class="list-compact"></div>
          <div class="field">
            <label for="roomMessageInput">Message</label>
            <textarea id="roomMessageInput" rows="3" maxlength="2000" aria-label="Room message"></textarea>
          </div>
          <button id="sendRoomMessageBtn" class="button" type="button">Send message</button>
        </article>
      </section>

      <section class="grid two">
        <article class="panel dashboard-card">
          <h2 class="panel-title">Weekly Challenges</h2>
          <div id="challengeList" class="list-compact"></div>
        </article>

        <article class="panel dashboard-card">
          <h2 class="panel-title">Peer Q&A</h2>
          <div id="questionList" class="list-compact"></div>
          <button id="refreshQuestionsBtn" class="button secondary" type="button">Refresh Q&A</button>
        </article>
      </section>
    </main>
  </div>

  <script src="/assets/portal-config.js"></script>
  <script src="/assets/analytics.js"></script>
  <script type="module" src="/assets/student/community.js"></script>
</body>
</html>
