(()=>{var e={};e.id=523,e.ids=[523],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>l,pages:()=>m,routeModule:()=>u,tree:()=>c}),r(6932),r(7210),r(5866),r(1506);var s=r(3191),o=r(8716),n=r(7922),a=r.n(n),i=r(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let c=["",{children:["(app)",{children:["community",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6932)),"C:\\Users\\Bron\\projects\\LJ-s-tutoring\\web\\app\\(app)\\community\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7210)),"C:\\Users\\Bron\\projects\\LJ-s-tutoring\\web\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Users\\Bron\\projects\\LJ-s-tutoring\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\Bron\\projects\\LJ-s-tutoring\\web\\app\\(app)\\community\\page.tsx"],l="/(app)/community/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(app)/community/page",pathname:"/community",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5303:()=>{},6932:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>i});var s=r(9510),o=r(256),n=r(210),a=r(1023);let i="force-dynamic";async function d(){let e=await (0,a.o)(["STUDENT","TUTOR","ADMIN"]),t=await (0,n.R)("/community/rooms?page=1&pageSize=10"),r="TUTOR"===e.user.role||"ADMIN"===e.user.role?await (0,n.R)("/tutor/scores?page=1&pageSize=10").catch(()=>({items:[]})):{items:[]};return(0,s.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,s.jsxs)(o.Z,{children:[s.jsx(o.l,{children:"Community rooms"}),s.jsx("div",{className:"mt-3 grid gap-2",children:t.items.map(e=>(0,s.jsxs)("div",{className:"rounded-lg border border-ody-border px-3 py-2 text-sm",children:[(0,s.jsxs)("p",{className:"font-medium",children:[e.subject,e.grade?` • ${e.grade}`:""]}),(0,s.jsxs)("p",{className:"text-ody-muted",children:["Members: ",e.member_count??0]})]},e.id))})]}),(0,s.jsxs)(o.Z,{children:[s.jsx(o.l,{children:"Risk + momentum"}),(0,s.jsxs)("div",{className:"mt-3 grid gap-2",children:[0===r.items.length&&s.jsx("p",{className:"text-sm text-ody-muted",children:"Visible for tutor/admin roles after assignment mapping."}),r.items.map(e=>(0,s.jsxs)("div",{className:"rounded-lg border border-ody-border px-3 py-2 text-sm",children:[s.jsx("p",{className:"font-medium",children:e.studentName}),(0,s.jsxs)("p",{className:"text-ody-muted",children:["Risk ",e.riskScore??"-"," • Momentum ",e.momentumScore??"-"]})]},e.studentName))]})]})]})}},1585:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let s=require("crypto");function o(){try{return(0,s.randomUUID)()}catch{return`req_${Date.now()}_${Math.random().toString(36).slice(2,10)}`}}},210:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var s=r(1615),o=r(1964),n=r(1585);async function a(e){let t=(0,n.A)(),r=(0,s.cookies)().getAll().map(e=>`${e.name}=${e.value}`).join("; "),a=await fetch(`${o.C}${e}`,{method:"GET",headers:{cookie:r,accept:"application/json","x-request-id":t},cache:"no-store"});if(!a.ok)throw Error(`api_get_failed:${a.status}`);return a.json()}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,471,783,86,54,174],()=>r(3942));module.exports=s})();